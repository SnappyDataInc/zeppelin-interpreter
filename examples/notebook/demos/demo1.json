{"paragraphs":[{"text":"%spark\nprintln(s\"\"\"%html\n<h2>What does this demo showcase?</h2>\n<p>The New York City Taxi & Limousine Commission has released the detailed historical dataset covering over 1.1 billion individual taxi trips in the city from January 2009 through June 2015. In this Analytics demo we only use data for Year 2013. We manage the trip and fare data in two tables (NYC_TAXI_TRIP, TAXI_TRIP_FARE). Each trip contains information like the driver's license info, the pickup and dropoff times and their precise locations, etc. The fare table contains the total charge along with tip amounts for each trip. The schema for the table is below. \nEach table is over a 150 million records and instead of managing all the data in memory we simply create two stratified samples. This requires only a fraction of the memory that would otherwise be required. \n\nIn this demo, we showcase the following:\n<h4>1)  Execute the query on the exact data noting the time it takes to parse parquet data and execute the query using Spark parallel processing  (LEFT PARAGRAPHS)<br>\n2)  Execute the same query using Synopses data engine noting both the accuracy and response time of the answer. (RIGHT PARAGRAPHS)<br>\n3)  We illustrate various features: constraining the error in query responses, Automatically swapping the approximate visualized plot with an exact response, projecting error rates as part of the query response and automatic query re-routing to underlying data source when error constraints cannot be satisfied. </h4>\n\n<h4><i>NOTE: The data set used here is relatively small (few GB of Parquet formatted data). The interesting thing about using stratified sampling is that the error rate drops exponentially with the size of the sample. The exponential error drop off implies with larger data sets, the sampling fraction can also keep getting smaller. e.g. you may need a 2 million sample for a data set with 200 million records, but, may only need a 3 million sample for a data set with a billion records to achieve the same level of accuracy. Hence, the performance delta with sampling will be proportional to the data set size. </h4>\n\"\"\")\n","dateUpdated":"2016-10-26T12:58:23+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":false,"editorMode":"ace/mode/scala","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474824483952_-1651972728","id":"20160925-172803_1684905446","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>What does this demo showcase?</h2>\n<p>The New York City Taxi & Limousine Commission has released the detailed historical dataset covering over 1.1 billion individual taxi trips in the city from January 2009 through June 2015. In this Analytics demo we only use data for Year 2013. We manage the trip and fare data in two tables (NYC_TAXI_TRIP, TAXI_TRIP_FARE). Each trip contains information like the driver's license info, the pickup and dropoff times and their precise locations, etc. The fare table contains the total charge along with tip amounts for each trip. The schema for the table is below. \nEach table is over a 150 million records and instead of managing all the data in memory we simply create two stratified samples. This requires only a fraction of the memory that would otherwise be required. \n\nIn this demo, we showcase the following:\n<h4>1)  Execute the query on the exact data noting the time it takes to parse parquet data and execute the query using Spark parallel processing  (LEFT PARAGRAPHS)<br>\n2)  Execute the same query using Synopses data engine noting both the accuracy and response time of the answer. (RIGHT PARAGRAPHS)<br>\n3)  We illustrate various features: constraining the error in query responses, Automatically swapping the approximate visualized plot with an exact response, projecting error rates as part of the query response and automatic query re-routing to underlying data source when error constraints cannot be satisfied. </h4>\n\n<h4><i>NOTE: The data set used here is relatively small (few GB of Parquet formatted data). The interesting thing about using stratified sampling is that the error rate drops exponentially with the size of the sample. The exponential error drop off implies with larger data sets, the sampling fraction can also keep getting smaller. e.g. you may need a 2 million sample for a data set with 200 million records, but, may only need a 3 million sample for a data set with a billion records to achieve the same level of accuracy. Hence, the performance delta with sampling will be proportional to the data set size. </h4>\n\n"},"dateCreated":"2016-09-25T10:58:03+0000","dateStarted":"2016-10-26T12:56:15+0000","dateFinished":"2016-10-26T12:56:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:207"},{"title":"Monitor the cluster, check memory consumption","text":"%spark\n\nsnc.table(\"nyc_taxi_trip\").printSchema\n\nprintln(s\"\"\"%html\n <div> <span style=\"font-weight: bold;\"> <a href=\"http://ec2-35-163-43-47.us-west-2.compute.amazonaws.com:4040\" target=\"_blank\">Spark UI</a> </span> <span><h5> The Spark-SnappyData storage tab in the Spark UI shows you the amount of memory consumed by the samples.</h5></span></div>\n <div> <span style=\"font-weight: bold;\"> <a href=\"http://ec2-35-163-43-47.us-west-2.compute.amazonaws.com:7070/pulse\" target=\"_blank\">Pulse</a> </span> <span><h5>The SnappyData Pulse monitoring console shows the current state of the cluster. <br/> <div style=\"margin-left:20px; font-weight:bolder;\">Login Details: <br/>User Name: admin <br/> Password: admin </div></h5></span></div>\n\"\"\")\n","dateUpdated":"2016-10-26T12:48:17+0000","config":{"enabled":false,"tableHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","editorHide":true,"colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523597_-42930032","id":"20160913-064005_1687672995","result":{"code":"SUCCESS","type":"HTML","msg":" <div> <span style=\"font-weight: bold;\"> <a href=\"http://ec2-35-163-43-47.us-west-2.compute.amazonaws.com:4040\" target=\"_blank\">Spark UI</a> </span> <span><h5> The Spark-SnappyData storage tab in the Spark UI shows you the amount of memory consumed by the samples.</h5></span></div>\n <div> <span style=\"font-weight: bold;\"> <a href=\"http://ec2-35-163-43-47.us-west-2.compute.amazonaws.com:7070/pulse\" target=\"_blank\">Pulse</a> </span> <span><h5>The SnappyData Pulse monitoring console shows the current state of the cluster. <br/> <div style=\"margin-left:20px; font-weight:bolder;\">Login Details: <br/>User Name: admin <br/> Password: admin </div></h5></span></div>\n\n"},"dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-10-12T02:51:20+0000","dateFinished":"2016-10-12T02:51:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:208"},{"title":"Let's load the data from S3 and create Stratified Samples (RUN THIS PARA ONCE)","text":"%sql\n-- If launched using iSightCloud service, the Snappydata DB would automatically resurrect the samples from disk. \n-- But, we still need to re-create Spark External tables so we have access to the FULL source data. \n-- CHECK http://ec2-35-163-43-47.us-west-2.compute.amazonaws.com:4040/Snappy%20Store/ IF THE SAMPLES ARE ALREADY CREATED\n\nDROP TABLE IF EXISTS NYC_TAXI_TRIP ;\nDROP TABLE IF EXISTS TAXI_TRIP_FARE;\n\n-- Commented as samples are recovered from disk on cluster startup\n-- DROP TABLE IF EXISTS NYCTAXI_pickuptime_sample\n-- DROP TABLE IF EXISTS TAXIFARE_hackLicense_sample\n\n-- Spark SQL syntax to create tables with data in S3 (you can load from many disparate sources in Spark)\n-- External tables are registered  with Spark catalog and must be created each time the cluster is started.\nCREATE EXTERNAL TABLE NYC_TAXI_TRIP USING parquet OPTIONS(path 's3a://AKIAILHSQ3FINHV473RQ:Tnn6GOHhjaayIRtVNApYQgNLU3FxXkw9albr9hVJ@zeppelindemo/nytaxitripdata_cleaned');\nCREATE EXTERNAL TABLE TAXI_TRIP_FARE USING parquet OPTIONS(path 's3a://AKIAILHSQ3FINHV473RQ:Tnn6GOHhjaayIRtVNApYQgNLU3FxXkw9albr9hVJ@zeppelindemo/nyctaxifaredata_cleaned');\n\n-- You can also host the entire table in memory by removing the 'EXTERNAL' keyword assuming you have the memory available.\n-- For loading from other sources, checkout the Spark SQL guide here(LINK)\n\n-- Create 1% sample on hour(pickuptime). i.e. we have enough samples for each hour of the day\n-- CREATE SAMPLE TABLE NYCTAXI_pickuptime_sample ON NYC_TAXI_TRIP  OPTIONS (qcs 'hour(pickup_datetime)', fraction '0.01', persistent 'sync') AS (SELECT * FROM NYC_TAXI_TRIP)\n-- Create 1% sample on hack_license. There are about 20K hack_licenses (drivers) and we want to extract samples for each driver. \n-- CREATE SAMPLE TABLE TAXIFARE_hackLicense_sample on TAXI_TRIP_FARE OPTIONS (qcs 'hack_license', fraction '0.01', persistent 'sync') AS (SELECT * FROM TAXI_TRIP_FARE)\n\n\n-- Counts\nSELECT COUNT(*) FROM NYCTAXI_pickuptime_sample;\nSELECT COUNT(*) FROM TAXIFARE_hacklicense_sample;\n\n-- Checkout Pulse (link above) and the storage tab for the space consumed by the samples\nSELECT 'iSight data loaded';\n","dateUpdated":"2016-11-25T06:47:15+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{"xAxis":null}},"editorMode":"ace/mode/sql","editorHide":false,"colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523597_-42930032","id":"20160913-064343_1431994890","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T06:47:15+0000","dateFinished":"2016-11-25T06:47:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:209","result":{"code":"SUCCESS","type":"TABLE","msg":"iSight data loaded\niSight data loaded\n\n<br><font color=red>Time required to execute query : 103 millis.</font>","comment":"<br><font color=red>Time required to execute query : 103 millis.</font>","msgTable":[[{"value":"iSight data loaded"}]],"columnNames":[{"name":"iSight data loaded","index":0,"aggr":"sum"}],"rows":[["iSight data loaded"]]},"focus":true},{"title":"Schema for the table NYC_TAXI_TRIP","text":"%spark\nsnc.table(\"nyc_taxi_trip\").printSchema","dateUpdated":"2016-10-13T04:46:03+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true,"editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475974231971_-1201342944","id":"20161009-005031_439909397","result":{"code":"SUCCESS","type":"TEXT","msg":"root\n |-- medallion: string (nullable = true)\n |-- hack_license: string (nullable = true)\n |-- vendor_id: string (nullable = true)\n |-- rate_code: integer (nullable = true)\n |-- store_and_fwd_flag: string (nullable = true)\n |-- pickup_datetime: string (nullable = true)\n |-- dropoff_datetime: string (nullable = true)\n |-- passenger_count: integer (nullable = true)\n |-- trip_time_in_secs: integer (nullable = true)\n |-- trip_distance: double (nullable = true)\n |-- pickup_longitude: double (nullable = true)\n |-- pickup_latitude: double (nullable = true)\n |-- dropoff_longitude: double (nullable = true)\n |-- dropoff_latitude: double (nullable = true)\n\n"},"dateCreated":"2016-10-09T06:20:31+0000","dateStarted":"2016-10-13T04:46:04+0000","dateFinished":"2016-10-13T04:46:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:210"},{"title":"Comparing the number of records in base table and Sample table","text":"%md\n","dateUpdated":"2016-10-10T05:48:53+0000","config":{"enabled":false,"tableHide":true,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/markdown","editorHide":true,"colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523598_-41775785","id":"20160913-102730_397816573","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-09-26T07:49:35+0000","dateFinished":"2016-09-26T07:49:35+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:211"},{"title":"How many rows in the Trip table?","text":"%sql\n-- Fetch count\n\n\nselect count(*) count from nyc_taxi_trip;","dateUpdated":"2016-11-25T19:05:02+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"COUNT","index":0,"aggr":"sum"}],"values":[],"groups":[],"scatter":{"xAxis":{"name":"COUNT","index":0,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523598_-41775785","id":"20160913-102635_482610975","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:05:02+0000","dateFinished":"2016-11-25T19:05:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:212","result":{"code":"SUCCESS","type":"TABLE","msg":"COUNT\n157215619\n\n<br><font color=red>Time required to execute query : 1661 millis.</font>","comment":"<br><font color=red>Time required to execute query : 1661 millis.</font>","msgTable":[[{"value":"157215619"}]],"columnNames":[{"name":"COUNT","index":0,"aggr":"sum"}],"rows":[["157215619"]]},"focus":true},{"title":"How many rows using Synopses? Actual count in sample?","text":"%sql\n-- Fetch count. count(*) is the estimate. 'sample_count' is built-in alias to showing the actual number of records in the selected sample. \n-- 'with error 0.1' - allow a maximum of 10% error in the answer. \n\nselect count(*) count, count(*) sample_count from nyc_taxi_trip with error 0.1 ;\n","dateUpdated":"2016-11-25T19:05:08+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"COUNT","index":0,"aggr":"sum"}],"values":[{"name":"SAMPLE_COUNT","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"COUNT","index":0,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523598_-41775785","id":"20160913-102147_1078513643","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:05:08+0000","dateFinished":"2016-11-25T19:05:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:213","result":{"code":"SUCCESS","type":"TABLE","msg":"COUNT\tSAMPLE_COUNT\n157215619\t1601259\n\n<br><font color=red>Time required to execute query : 324 millis.</font>","comment":"<br><font color=red>Time required to execute query : 324 millis.</font>","msgTable":[[{"key":"SAMPLE_COUNT","value":"157215619"},{"key":"SAMPLE_COUNT","value":"1601259"}]],"columnNames":[{"name":"COUNT","index":0,"aggr":"sum"},{"name":"SAMPLE_COUNT","index":1,"aggr":"sum"}],"rows":[["157215619","1601259"]]},"focus":true},{"text":"%md\n","dateUpdated":"2016-10-14T03:57:25+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":false,"editorMode":"ace/mode/markdown","tableHide":true,"editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475083762937_705728123","id":"20160928-172922_2055212016","dateCreated":"2016-09-28T10:59:22+0000","dateStarted":"2016-09-28T10:59:28+0000","dateFinished":"2016-09-28T10:59:28+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:214"},{"title":"Number of Rides per week","text":"%sql\n\nselect count(*) numOfRides, weekofyear(pickup_datetime) from nyc_taxi_trip \ngroup by weekofyear(pickup_datetime);\n\n","dateUpdated":"2016-11-25T19:05:16+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"lineChart","height":300,"optionOpen":false,"keys":[{"name":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","index":1,"aggr":"sum"}],"values":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"NUMOFRIDES","index":0,"aggr":"sum"},"yAxis":{"name":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","index":1,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523598_-41775785","id":"20160913-103717_1785005943","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:05:16+0000","dateFinished":"2016-11-25T19:05:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:215","result":{"code":"SUCCESS","type":"TABLE","msg":"NUMOFRIDES\tweekofyear(CAST(PICKUP_DATETIME AS DATE))\n3410269\t49\n3419412\t50\n3346144\t42\n3481387\t12\n3138191\t36\n3344516\t24\n2675969\t27\n2972405\t35\n2269568\t31\n3421039\t37\n3511609\t8\n3395472\t38\n3502049\t20\n3261655\t22\n2849789\t48\n3447117\t47\n3510268\t18\n3316523\t29\n866196\t1\n3538681\t16\n3578249\t7\n3257908\t39\n3432124\t45\n3433422\t44\n3491202\t19\n3206901\t30\n3234300\t28\n3047074\t34\n2955143\t33\n3478456\t17\n3603658\t9\n3382887\t23\n3262610\t21\n2487323\t52\n3359278\t41\n3531655\t15\n3246036\t6\n3301036\t51\n3499600\t14\n3571665\t10\n1600459\t5\n3425519\t43\n3386955\t46\n2867327\t32\n3344416\t40\n3349542\t13\n3618505\t11\n3295114\t26\n3288996\t25\n\n<br><font color=red>Time required to execute query : 18165 millis.</font>","comment":"<br><font color=red>Time required to execute query : 18165 millis.</font>","msgTable":[[{"key":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","value":"3410269"},{"key":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","value":"49"}],[{"value":"3419412"},{"value":"50"}],[{"value":"3346144"},{"value":"42"}],[{"value":"3481387"},{"value":"12"}],[{"value":"3138191"},{"value":"36"}],[{"value":"3344516"},{"value":"24"}],[{"value":"2675969"},{"value":"27"}],[{"value":"2972405"},{"value":"35"}],[{"value":"2269568"},{"value":"31"}],[{"value":"3421039"},{"value":"37"}],[{"value":"3511609"},{"value":"8"}],[{"value":"3395472"},{"value":"38"}],[{"value":"3502049"},{"value":"20"}],[{"value":"3261655"},{"value":"22"}],[{"value":"2849789"},{"value":"48"}],[{"value":"3447117"},{"value":"47"}],[{"value":"3510268"},{"value":"18"}],[{"value":"3316523"},{"value":"29"}],[{"value":"866196"},{"value":"1"}],[{"value":"3538681"},{"value":"16"}],[{"value":"3578249"},{"value":"7"}],[{"value":"3257908"},{"value":"39"}],[{"value":"3432124"},{"value":"45"}],[{"value":"3433422"},{"value":"44"}],[{"value":"3491202"},{"value":"19"}],[{"value":"3206901"},{"value":"30"}],[{"value":"3234300"},{"value":"28"}],[{"value":"3047074"},{"value":"34"}],[{"value":"2955143"},{"value":"33"}],[{"value":"3478456"},{"value":"17"}],[{"value":"3603658"},{"value":"9"}],[{"value":"3382887"},{"value":"23"}],[{"value":"3262610"},{"value":"21"}],[{"value":"2487323"},{"value":"52"}],[{"value":"3359278"},{"value":"41"}],[{"value":"3531655"},{"value":"15"}],[{"value":"3246036"},{"value":"6"}],[{"value":"3301036"},{"value":"51"}],[{"value":"3499600"},{"value":"14"}],[{"value":"3571665"},{"value":"10"}],[{"value":"1600459"},{"value":"5"}],[{"value":"3425519"},{"value":"43"}],[{"value":"3386955"},{"value":"46"}],[{"value":"2867327"},{"value":"32"}],[{"value":"3344416"},{"value":"40"}],[{"value":"3349542"},{"value":"13"}],[{"value":"3618505"},{"value":"11"}],[{"value":"3295114"},{"value":"26"}],[{"value":"3288996"},{"value":"25"}]],"columnNames":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"},{"name":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","index":1,"aggr":"sum"}],"rows":[["3410269","49"],["3419412","50"],["3346144","42"],["3481387","12"],["3138191","36"],["3344516","24"],["2675969","27"],["2972405","35"],["2269568","31"],["3421039","37"],["3511609","8"],["3395472","38"],["3502049","20"],["3261655","22"],["2849789","48"],["3447117","47"],["3510268","18"],["3316523","29"],["866196","1"],["3538681","16"],["3578249","7"],["3257908","39"],["3432124","45"],["3433422","44"],["3491202","19"],["3206901","30"],["3234300","28"],["3047074","34"],["2955143","33"],["3478456","17"],["3603658","9"],["3382887","23"],["3262610","21"],["2487323","52"],["3359278","41"],["3531655","15"],["3246036","6"],["3301036","51"],["3499600","14"],["3571665","10"],["1600459","5"],["3425519","43"],["3386955","46"],["2867327","32"],["3344416","40"],["3349542","13"],["3618505","11"],["3295114","26"],["3288996","25"]]},"focus":true},{"title":"Number of Rides per week  (Use Synopsis)","text":"%sql \n\n-- 'With error 0.1' - allow 10% error and if cannot be met run against full table\nset spark.sql.shuffle.partitions=7;\nselect count(*) numOfRides, weekofyear(pickup_datetime) from nyc_taxi_trip \ngroup by weekofyear(pickup_datetime) with error 0.1;\n","dateUpdated":"2016-11-25T19:05:12+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"lineChart","height":300,"optionOpen":false,"keys":[{"name":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","index":1,"aggr":"sum"}],"values":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"NUMOFRIDES","index":0,"aggr":"sum"},"yAxis":{"name":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","index":1,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523598_-41775785","id":"20160913-104339_26190446","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:05:12+0000","dateFinished":"2016-11-25T19:05:15+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:216","result":{"code":"SUCCESS","type":"TABLE","msg":"NUMOFRIDES\tweekofyear(CAST(PICKUP_DATETIME AS DATE))\n3467867\t12\n3350632\t24\n3146025\t36\n3311374\t42\n3422747\t49\n3414114\t50\n3509246\t8\n3529884\t20\n3279277\t22\n2660233\t27\n2261803\t31\n2955310\t35\n3441390\t37\n3424595\t38\n873906\t1\n3533612\t7\n3530141\t16\n3500360\t18\n3303392\t29\n3270167\t39\n3425410\t45\n3436665\t47\n2855272\t48\n3593152\t9\n3470170\t17\n3521097\t19\n3393671\t23\n3215606\t28\n3228874\t30\n2952051\t33\n3056703\t34\n3415865\t44\n3251980\t6\n3540686\t15\n3269046\t21\n3361108\t41\n2507370\t52\n1620707\t5\n3551123\t10\n3497817\t14\n3432073\t43\n3316882\t51\n3596332\t11\n3319564\t13\n3294322\t25\n3273758\t26\n2875946\t32\n3360808\t40\n3395459\t46\n\n<br><font color=red>Time required to execute query : 2657 millis.</font>","comment":"<br><font color=red>Time required to execute query : 2657 millis.</font>","msgTable":[[{"key":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","value":"3467867"},{"key":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","value":"12"}],[{"value":"3350632"},{"value":"24"}],[{"value":"3146025"},{"value":"36"}],[{"value":"3311374"},{"value":"42"}],[{"value":"3422747"},{"value":"49"}],[{"value":"3414114"},{"value":"50"}],[{"value":"3509246"},{"value":"8"}],[{"value":"3529884"},{"value":"20"}],[{"value":"3279277"},{"value":"22"}],[{"value":"2660233"},{"value":"27"}],[{"value":"2261803"},{"value":"31"}],[{"value":"2955310"},{"value":"35"}],[{"value":"3441390"},{"value":"37"}],[{"value":"3424595"},{"value":"38"}],[{"value":"873906"},{"value":"1"}],[{"value":"3533612"},{"value":"7"}],[{"value":"3530141"},{"value":"16"}],[{"value":"3500360"},{"value":"18"}],[{"value":"3303392"},{"value":"29"}],[{"value":"3270167"},{"value":"39"}],[{"value":"3425410"},{"value":"45"}],[{"value":"3436665"},{"value":"47"}],[{"value":"2855272"},{"value":"48"}],[{"value":"3593152"},{"value":"9"}],[{"value":"3470170"},{"value":"17"}],[{"value":"3521097"},{"value":"19"}],[{"value":"3393671"},{"value":"23"}],[{"value":"3215606"},{"value":"28"}],[{"value":"3228874"},{"value":"30"}],[{"value":"2952051"},{"value":"33"}],[{"value":"3056703"},{"value":"34"}],[{"value":"3415865"},{"value":"44"}],[{"value":"3251980"},{"value":"6"}],[{"value":"3540686"},{"value":"15"}],[{"value":"3269046"},{"value":"21"}],[{"value":"3361108"},{"value":"41"}],[{"value":"2507370"},{"value":"52"}],[{"value":"1620707"},{"value":"5"}],[{"value":"3551123"},{"value":"10"}],[{"value":"3497817"},{"value":"14"}],[{"value":"3432073"},{"value":"43"}],[{"value":"3316882"},{"value":"51"}],[{"value":"3596332"},{"value":"11"}],[{"value":"3319564"},{"value":"13"}],[{"value":"3294322"},{"value":"25"}],[{"value":"3273758"},{"value":"26"}],[{"value":"2875946"},{"value":"32"}],[{"value":"3360808"},{"value":"40"}],[{"value":"3395459"},{"value":"46"}]],"columnNames":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"},{"name":"weekofyear(CAST(PICKUP_DATETIME AS DATE))","index":1,"aggr":"sum"}],"rows":[["3467867","12"],["3350632","24"],["3146025","36"],["3311374","42"],["3422747","49"],["3414114","50"],["3509246","8"],["3529884","20"],["3279277","22"],["2660233","27"],["2261803","31"],["2955310","35"],["3441390","37"],["3424595","38"],["873906","1"],["3533612","7"],["3530141","16"],["3500360","18"],["3303392","29"],["3270167","39"],["3425410","45"],["3436665","47"],["2855272","48"],["3593152","9"],["3470170","17"],["3521097","19"],["3393671","23"],["3215606","28"],["3228874","30"],["2952051","33"],["3056703","34"],["3415865","44"],["3251980","6"],["3540686","15"],["3269046","21"],["3361108","41"],["2507370","52"],["1620707","5"],["3551123","10"],["3497817","14"],["3432073","43"],["3316882","51"],["3596332","11"],["3319564","13"],["3294322","25"],["3273758","26"],["2875946","32"],["3360808","40"],["3395459","46"]]},"focus":true},{"text":"%md\n","dateUpdated":"2016-10-08T09:10:58+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":false,"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475035779253_1670886472","id":"20160928-040939_194085087","dateCreated":"2016-09-28T09:39:39+0000","dateStarted":"2016-09-28T09:39:46+0000","dateFinished":"2016-09-28T09:39:46+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:217"},{"title":" What are the worst times of day to take a cab from midtown to JFK airport?","text":"%sql\n\n-- A more selective query: filtered on two locations in manhattan\n\nselect avg(trip_time_in_secs/60) tripTime, hour(pickup_datetime) hr, count(*) howManyTrips from nyc_taxi_trip where \nround(pickup_latitude,2) >= round(40.754931,2) and \n round(pickup_longitude,2) <= round(-73.974019,2) and \nround(pickup_latitude,2) <= round(40.757321,2) and  \nround(pickup_longitude,2) >= round(-73.995194,2) and \nround(dropoff_latitude,2) >= round(40.632471,2) and \nround(dropoff_longitude,2) <= round(-73.765469,2) and \nround(dropoff_latitude,2) <= round(40.660735,2) and \n round(dropoff_longitude,2) >= round(-73.799458,2) \ngroup by  hour(pickup_datetime) order by hr;\n","dateUpdated":"2016-11-25T19:11:10+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"lineChart","height":300,"optionOpen":false,"keys":[{"name":"HR","index":1,"aggr":"sum"}],"values":[{"name":"TRIPTIME","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"TRIPTIME","index":0,"aggr":"sum"},"yAxis":{"name":"HR","index":1,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523599_-42160534","id":"20160913-105109_332811400","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:11:10+0000","dateFinished":"2016-11-25T19:12:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:218","result":{"code":"SUCCESS","type":"TABLE","msg":"TRIPTIME\tHR\tHOWMANYTRIPS\n30.248017799352752\t0\t412\n27.6900462962963\t1\t432\n27.00043498168498\t2\t728\n25.705693828844183\t3\t2933\n24.87108586883029\t4\t12325\n25.380651599735877\t5\t22212\n29.36705309916294\t6\t25964\n36.49075993504011\t7\t20936\n37.27744937672738\t8\t17729\n36.48547738400559\t9\t17156\n35.41730394760134\t10\t18830\n35.95173884781019\t11\t24614\n38.41489198503761\t12\t31724\n42.120699884316636\t13\t40340\n48.45349669404666\t14\t50767\n55.26458856014072\t15\t46236\n56.38498426696477\t16\t32204\n52.59022478439452\t17\t25239\n44.99836367523475\t18\t20269\n38.241238039013105\t19\t13551\n34.18698803914461\t20\t8277\n32.32445126268586\t21\t4237\n31.455373032169746\t22\t1948\n30.900381526104425\t23\t830\n\n<br><font color=red>Time required to execute query : 71307 millis.</font>","comment":"<br><font color=red>Time required to execute query : 71307 millis.</font>","msgTable":[[{"key":"HR","value":"30.248017799352752"},{"key":"HR","value":"0"},{"key":"HR","value":"412"}],[{"key":"HOWMANYTRIPS","value":"27.6900462962963"},{"key":"HOWMANYTRIPS","value":"1"},{"key":"HOWMANYTRIPS","value":"432"}],[{"value":"27.00043498168498"},{"value":"2"},{"value":"728"}],[{"value":"25.705693828844183"},{"value":"3"},{"value":"2933"}],[{"value":"24.87108586883029"},{"value":"4"},{"value":"12325"}],[{"value":"25.380651599735877"},{"value":"5"},{"value":"22212"}],[{"value":"29.36705309916294"},{"value":"6"},{"value":"25964"}],[{"value":"36.49075993504011"},{"value":"7"},{"value":"20936"}],[{"value":"37.27744937672738"},{"value":"8"},{"value":"17729"}],[{"value":"36.48547738400559"},{"value":"9"},{"value":"17156"}],[{"value":"35.41730394760134"},{"value":"10"},{"value":"18830"}],[{"value":"35.95173884781019"},{"value":"11"},{"value":"24614"}],[{"value":"38.41489198503761"},{"value":"12"},{"value":"31724"}],[{"value":"42.120699884316636"},{"value":"13"},{"value":"40340"}],[{"value":"48.45349669404666"},{"value":"14"},{"value":"50767"}],[{"value":"55.26458856014072"},{"value":"15"},{"value":"46236"}],[{"value":"56.38498426696477"},{"value":"16"},{"value":"32204"}],[{"value":"52.59022478439452"},{"value":"17"},{"value":"25239"}],[{"value":"44.99836367523475"},{"value":"18"},{"value":"20269"}],[{"value":"38.241238039013105"},{"value":"19"},{"value":"13551"}],[{"value":"34.18698803914461"},{"value":"20"},{"value":"8277"}],[{"value":"32.32445126268586"},{"value":"21"},{"value":"4237"}],[{"value":"31.455373032169746"},{"value":"22"},{"value":"1948"}],[{"value":"30.900381526104425"},{"value":"23"},{"value":"830"}]],"columnNames":[{"name":"TRIPTIME","index":0,"aggr":"sum"},{"name":"HR","index":1,"aggr":"sum"},{"name":"HOWMANYTRIPS","index":2,"aggr":"sum"}],"rows":[["30.248017799352752","0","412"],["27.6900462962963","1","432"],["27.00043498168498","2","728"],["25.705693828844183","3","2933"],["24.87108586883029","4","12325"],["25.380651599735877","5","22212"],["29.36705309916294","6","25964"],["36.49075993504011","7","20936"],["37.27744937672738","8","17729"],["36.48547738400559","9","17156"],["35.41730394760134","10","18830"],["35.95173884781019","11","24614"],["38.41489198503761","12","31724"],["42.120699884316636","13","40340"],["48.45349669404666","14","50767"],["55.26458856014072","15","46236"],["56.38498426696477","16","32204"],["52.59022478439452","17","25239"],["44.99836367523475","18","20269"],["38.241238039013105","19","13551"],["34.18698803914461","20","8277"],["32.32445126268586","21","4237"],["31.455373032169746","22","1948"],["30.900381526104425","23","830"]]},"focus":true},{"title":" What are the worst times of day to take a cab from midtown to JFK airport?   (Use Synopsis)","text":"%sql show-instant-results-first\n\n-- Note the directive 'show-instant-results-first' so we want an immediate, approximate answer followed by the 100% accurate answer. \n\nselect avg(trip_time_in_secs/60) tripTime, hour(pickup_datetime) hr, count(*) howManyTrips from nyc_taxi_trip where \nround(pickup_latitude,2) >= round(40.754931,2) and \nround(pickup_longitude,2) <= round(-73.974019,2) and \nround(pickup_latitude,2) <= round(40.757321,2) and  \nround(pickup_longitude,2) >= round(-73.995194,2) and \nround(dropoff_latitude,2) >= round(40.632471,2) and \nround(dropoff_longitude,2) <= round(-73.765469,2) and \nround(dropoff_latitude,2) <= round(40.660735,2) and \n round(dropoff_longitude,2) >= round(-73.799458,2) \ngroup by  hour(pickup_datetime) order by hr ;\n","dateUpdated":"2016-11-25T19:08:09+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"lineChart","height":300,"optionOpen":false,"keys":[{"name":"HR","index":1,"aggr":"sum"}],"values":[{"name":"TRIPTIME","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"TRIPTIME","index":0,"aggr":"sum"},"yAxis":{"name":"HR","index":1,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523599_-42160534","id":"20160913-105108_1325523020","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:08:10+0000","dateFinished":"2016-11-25T19:09:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:219","result":{"code":"SUCCESS","type":"TABLE","msg":"TRIPTIME\tHR\tHOWMANYTRIPS\n30.248017799352752\t0\t412\n27.6900462962963\t1\t432\n27.00043498168498\t2\t728\n25.705693828844183\t3\t2933\n24.87108586883029\t4\t12325\n25.380651599735877\t5\t22212\n29.36705309916294\t6\t25964\n36.49075993504011\t7\t20936\n37.27744937672738\t8\t17729\n36.48547738400559\t9\t17156\n35.41730394760134\t10\t18830\n35.95173884781019\t11\t24614\n38.41489198503761\t12\t31724\n42.120699884316636\t13\t40340\n48.45349669404666\t14\t50767\n55.26458856014072\t15\t46236\n56.38498426696477\t16\t32204\n52.59022478439452\t17\t25239\n44.99836367523475\t18\t20269\n38.241238039013105\t19\t13551\n34.18698803914461\t20\t8277\n32.32445126268586\t21\t4237\n31.455373032169746\t22\t1948\n30.900381526104425\t23\t830\n\n<font color=red>Time required to execute query on sample table : 1033 millis.</font><br>\n<font color=red>Time required to execute query on base table : 71157 millis.</font>","comment":"<font color=red>Time required to execute query on sample table : 1033 millis.</font><br><font color=red>Time required to execute query on base table : 71157 millis.</font>","msgTable":[[{"key":"HR","value":"30.248017799352752"},{"key":"HR","value":"0"},{"key":"HR","value":"412"}],[{"key":"HOWMANYTRIPS","value":"27.6900462962963"},{"key":"HOWMANYTRIPS","value":"1"},{"key":"HOWMANYTRIPS","value":"432"}],[{"value":"27.00043498168498"},{"value":"2"},{"value":"728"}],[{"value":"25.705693828844183"},{"value":"3"},{"value":"2933"}],[{"value":"24.87108586883029"},{"value":"4"},{"value":"12325"}],[{"value":"25.380651599735877"},{"value":"5"},{"value":"22212"}],[{"value":"29.36705309916294"},{"value":"6"},{"value":"25964"}],[{"value":"36.49075993504011"},{"value":"7"},{"value":"20936"}],[{"value":"37.27744937672738"},{"value":"8"},{"value":"17729"}],[{"value":"36.48547738400559"},{"value":"9"},{"value":"17156"}],[{"value":"35.41730394760134"},{"value":"10"},{"value":"18830"}],[{"value":"35.95173884781019"},{"value":"11"},{"value":"24614"}],[{"value":"38.41489198503761"},{"value":"12"},{"value":"31724"}],[{"value":"42.120699884316636"},{"value":"13"},{"value":"40340"}],[{"value":"48.45349669404666"},{"value":"14"},{"value":"50767"}],[{"value":"55.26458856014072"},{"value":"15"},{"value":"46236"}],[{"value":"56.38498426696477"},{"value":"16"},{"value":"32204"}],[{"value":"52.59022478439452"},{"value":"17"},{"value":"25239"}],[{"value":"44.99836367523475"},{"value":"18"},{"value":"20269"}],[{"value":"38.241238039013105"},{"value":"19"},{"value":"13551"}],[{"value":"34.18698803914461"},{"value":"20"},{"value":"8277"}],[{"value":"32.32445126268586"},{"value":"21"},{"value":"4237"}],[{"value":"31.455373032169746"},{"value":"22"},{"value":"1948"}],[{"value":"30.900381526104425"},{"value":"23"},{"value":"830"}]],"columnNames":[{"name":"TRIPTIME","index":0,"aggr":"sum"},{"name":"HR","index":1,"aggr":"sum"},{"name":"HOWMANYTRIPS","index":2,"aggr":"sum"}],"rows":[["30.248017799352752","0","412"],["27.6900462962963","1","432"],["27.00043498168498","2","728"],["25.705693828844183","3","2933"],["24.87108586883029","4","12325"],["25.380651599735877","5","22212"],["29.36705309916294","6","25964"],["36.49075993504011","7","20936"],["37.27744937672738","8","17729"],["36.48547738400559","9","17156"],["35.41730394760134","10","18830"],["35.95173884781019","11","24614"],["38.41489198503761","12","31724"],["42.120699884316636","13","40340"],["48.45349669404666","14","50767"],["55.26458856014072","15","46236"],["56.38498426696477","16","32204"],["52.59022478439452","17","25239"],["44.99836367523475","18","20269"],["38.241238039013105","19","13551"],["34.18698803914461","20","8277"],["32.32445126268586","21","4237"],["31.455373032169746","22","1948"],["30.900381526104425","23","830"]]},"focus":true},{"text":"%md\n","dateUpdated":"2016-10-14T03:57:44+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":false,"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475035844284_-121415111","id":"20160928-041044_1557092045","dateCreated":"2016-09-28T09:40:44+0000","dateStarted":"2016-09-28T09:40:53+0000","dateFinished":"2016-09-28T09:40:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:220"},{"title":"How does ridership change over months?","text":"%sql\n-- Query will take more than 20 seconds. And, this is just one year's data.\n\nselect count(*) numOfRides,CASE \nWHEN month(pickup_datetime) = 1 THEN 'Jan' \nWHEN month(pickup_datetime) = 2 THEN 'Feb' \nWHEN month(pickup_datetime) = 3 THEN 'Mar' \nWHEN month(pickup_datetime) = 4 THEN 'Apr' \nWHEN month(pickup_datetime) = 5 THEN 'May' \nWHEN month(pickup_datetime) = 6 THEN 'Jun'\nWHEN month(pickup_datetime) = 7 THEN 'Jul' \nWHEN month(pickup_datetime) = 8 THEN 'Aug' \nWHEN month(pickup_datetime) = 9 THEN 'Sep' \nWHEN month(pickup_datetime) = 10 THEN 'Oct' \nWHEN month(pickup_datetime) = 11 THEN 'Nov' \nWHEN month(pickup_datetime) = 12 THEN 'Dec'\nEND AS mnt from nyc_taxi_trip group by month(pickup_datetime) \norder by month(pickup_datetime);\n","dateUpdated":"2016-11-25T19:12:34+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"lineChart","height":300,"optionOpen":false,"keys":[{"name":"MNT","index":1,"aggr":"sum"}],"values":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"NUMOFRIDES","index":0,"aggr":"sum"}},"lineWithFocus":false,"forceY":false},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523598_-41775785","id":"20160913-102929_1633634550","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:12:34+0000","dateFinished":"2016-11-25T19:12:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:221","result":{"code":"SUCCESS","type":"TABLE","msg":"NUMOFRIDES\tMNT\n13907003\tFeb\n15654107\tMar\n14976700\tApr\n15120732\tMay\n14290257\tJun\n13737879\tJul\n12425301\tAug\n14016154\tSep\n14909765\tOct\n14298285\tNov\n13879436\tDec\n\n<br><font color=red>Time required to execute query : 17846 millis.</font>","comment":"<br><font color=red>Time required to execute query : 17846 millis.</font>","msgTable":[[{"key":"MNT","value":"13907003"},{"key":"MNT","value":"Feb"}],[{"value":"15654107"},{"value":"Mar"}],[{"value":"14976700"},{"value":"Apr"}],[{"value":"15120732"},{"value":"May"}],[{"value":"14290257"},{"value":"Jun"}],[{"value":"13737879"},{"value":"Jul"}],[{"value":"12425301"},{"value":"Aug"}],[{"value":"14016154"},{"value":"Sep"}],[{"value":"14909765"},{"value":"Oct"}],[{"value":"14298285"},{"value":"Nov"}],[{"value":"13879436"},{"value":"Dec"}]],"columnNames":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"},{"name":"MNT","index":1,"aggr":"sum"}],"rows":[["13907003","Feb"],["15654107","Mar"],["14976700","Apr"],["15120732","May"],["14290257","Jun"],["13737879","Jul"],["12425301","Aug"],["14016154","Sep"],["14909765","Oct"],["14298285","Nov"],["13879436","Dec"]]},"focus":true},{"title":"How does ridership change over months? (Use Synopsis) ","text":"%sql\n-- Run the same query but we can tolerate a 10% error ('with error 0.1')\n-- 'behavior 'do_nothing' instructs snappydata to take no action even when error constraint is not met. See docs for details. \nset spark.sql.shuffle.partitions=7;\nselect count(*) numOfRides,relative_error(numOFRides), CASE \nWHEN month(pickup_datetime) = 1 THEN 'Jan' \nWHEN month(pickup_datetime) = 2 THEN 'Feb' \nWHEN month(pickup_datetime) = 3 THEN 'Mar' \nWHEN month(pickup_datetime) = 4 THEN 'Apr' \nWHEN month(pickup_datetime) = 5 THEN 'May' \nWHEN month(pickup_datetime) = 6 THEN 'Jun'\nWHEN month(pickup_datetime) = 7 THEN 'Jul' \nWHEN month(pickup_datetime) = 8 THEN 'Aug' \nWHEN month(pickup_datetime) = 9 THEN 'Sep' \nWHEN month(pickup_datetime) = 10 THEN 'Oct' \nWHEN month(pickup_datetime) = 11 THEN 'Nov' \nWHEN month(pickup_datetime) = 12 THEN 'Dec'\nEND AS mnt from nyc_taxi_trip group by month(pickup_datetime) \norder by month(pickup_datetime) with error 0.1 behavior 'do_nothing' ;\n","dateUpdated":"2016-11-25T19:12:30+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"lineChart","height":300,"optionOpen":false,"keys":[{"name":"MNT","index":2,"aggr":"sum"}],"values":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"NUMOFRIDES","index":0,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523598_-41775785","id":"20160913-102900_344385570","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:12:30+0000","dateFinished":"2016-11-25T19:12:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:222","result":{"code":"SUCCESS","type":"TABLE","msg":"NUMOFRIDES\tRelative_Error(NUMOFRIDES)\tMNT\n13880208\t0.0052317052567441265\tFeb\n15563379\t0.0049221614038237604\tMar\n14957609\t0.0050209117540021405\tApr\n15197741\t0.004980880265201285\tMay\n14295517\t0.005156503159033718\tJun\n13701671\t0.0052736476921736\tJul\n12426570\t0.005572656693912583\tAug\n14079376\t0.005180664602960402\tSep\n14895821\t0.005049132944197556\tOct\n14294898\t0.00516752422338023\tNov\n13922824\t0.005224986837774254\tDec\n\n<br><font color=red>Time required to execute query : 2262 millis.</font>","comment":"<br><font color=red>Time required to execute query : 2262 millis.</font>","msgTable":[[{"key":"Relative_Error(NUMOFRIDES)","value":"13880208"},{"key":"Relative_Error(NUMOFRIDES)","value":"0.0052317052567441265"},{"key":"Relative_Error(NUMOFRIDES)","value":"Feb"}],[{"key":"MNT","value":"15563379"},{"key":"MNT","value":"0.0049221614038237604"},{"key":"MNT","value":"Mar"}],[{"value":"14957609"},{"value":"0.0050209117540021405"},{"value":"Apr"}],[{"value":"15197741"},{"value":"0.004980880265201285"},{"value":"May"}],[{"value":"14295517"},{"value":"0.005156503159033718"},{"value":"Jun"}],[{"value":"13701671"},{"value":"0.0052736476921736"},{"value":"Jul"}],[{"value":"12426570"},{"value":"0.005572656693912583"},{"value":"Aug"}],[{"value":"14079376"},{"value":"0.005180664602960402"},{"value":"Sep"}],[{"value":"14895821"},{"value":"0.005049132944197556"},{"value":"Oct"}],[{"value":"14294898"},{"value":"0.00516752422338023"},{"value":"Nov"}],[{"value":"13922824"},{"value":"0.005224986837774254"},{"value":"Dec"}]],"columnNames":[{"name":"NUMOFRIDES","index":0,"aggr":"sum"},{"name":"Relative_Error(NUMOFRIDES)","index":1,"aggr":"sum"},{"name":"MNT","index":2,"aggr":"sum"}],"rows":[["13880208","0.0052317052567441265","Feb"],["15563379","0.0049221614038237604","Mar"],["14957609","0.0050209117540021405","Apr"],["15197741","0.004980880265201285","May"],["14295517","0.005156503159033718","Jun"],["13701671","0.0052736476921736","Jul"],["12426570","0.005572656693912583","Aug"],["14079376","0.005180664602960402","Sep"],["14895821","0.005049132944197556","Oct"],["14294898","0.00516752422338023","Nov"],["13922824","0.005224986837774254","Dec"]]},"focus":true},{"text":"","dateUpdated":"2016-09-27T03:38:55+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":false,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475014123173_434658123","id":"20160927-220843_304311260","dateCreated":"2016-09-27T03:38:43+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:223"},{"title":"How long does it take to ride from Midtown to Downtown?","text":"%sql\n\n-- Another selective query\n\nselect avg(trip_time_in_secs/60) tripTime, hour(pickup_datetime) as hour from nyc_taxi_trip where pickup_latitude < 40.767588 and pickup_latitude > 40.749775 and pickup_longitude > -74.001632 and  pickup_longitude < -73.974595 and dropoff_latitude > 40.716800     and  dropoff_latitude <  40.717776 and dropoff_longitude >  -74.017682 and dropoff_longitude < -74.000945 group by  hour(pickup_datetime) order by hour(pickup_datetime);\n\n","dateUpdated":"2016-11-25T19:12:54+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"HOUR","index":1,"aggr":"sum"}],"values":[{"name":"TRIPTIME","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"TRIPTIME","index":0,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523599_-42160534","id":"20160913-104647_1842940668","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:12:54+0000","dateFinished":"2016-11-25T19:13:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:224","result":{"code":"SUCCESS","type":"TABLE","msg":"TRIPTIME\tHOUR\n15.085161987041037\t0\n13.540998796630568\t1\n12.540488936473945\t2\n12.381754705525196\t3\n11.881226053639848\t4\n10.677551020408163\t5\n11.471524064171122\t6\n14.169968919968923\t7\n17.118609498287924\t8\n19.012533602150537\t9\n19.04250080205325\t10\n19.83288145805091\t11\n19.88977689710847\t12\n19.470002803476312\t13\n19.716883774786513\t14\n20.193514328808444\t15\n19.8675506350841\t16\n21.218925233644857\t17\n21.091895005348473\t18\n19.387736174320782\t19\n17.68865073093639\t20\n16.197005719798778\t21\n16.13448225069966\t22\n15.769528374975792\t23\n\n<br><font color=red>Time required to execute query : 11930 millis.</font>","comment":"<br><font color=red>Time required to execute query : 11930 millis.</font>","msgTable":[[{"key":"HOUR","value":"15.085161987041037"},{"key":"HOUR","value":"0"}],[{"value":"13.540998796630568"},{"value":"1"}],[{"value":"12.540488936473945"},{"value":"2"}],[{"value":"12.381754705525196"},{"value":"3"}],[{"value":"11.881226053639848"},{"value":"4"}],[{"value":"10.677551020408163"},{"value":"5"}],[{"value":"11.471524064171122"},{"value":"6"}],[{"value":"14.169968919968923"},{"value":"7"}],[{"value":"17.118609498287924"},{"value":"8"}],[{"value":"19.012533602150537"},{"value":"9"}],[{"value":"19.04250080205325"},{"value":"10"}],[{"value":"19.83288145805091"},{"value":"11"}],[{"value":"19.88977689710847"},{"value":"12"}],[{"value":"19.470002803476312"},{"value":"13"}],[{"value":"19.716883774786513"},{"value":"14"}],[{"value":"20.193514328808444"},{"value":"15"}],[{"value":"19.8675506350841"},{"value":"16"}],[{"value":"21.218925233644857"},{"value":"17"}],[{"value":"21.091895005348473"},{"value":"18"}],[{"value":"19.387736174320782"},{"value":"19"}],[{"value":"17.68865073093639"},{"value":"20"}],[{"value":"16.197005719798778"},{"value":"21"}],[{"value":"16.13448225069966"},{"value":"22"}],[{"value":"15.769528374975792"},{"value":"23"}]],"columnNames":[{"name":"TRIPTIME","index":0,"aggr":"sum"},{"name":"HOUR","index":1,"aggr":"sum"}],"rows":[["15.085161987041037","0"],["13.540998796630568","1"],["12.540488936473945","2"],["12.381754705525196","3"],["11.881226053639848","4"],["10.677551020408163","5"],["11.471524064171122","6"],["14.169968919968923","7"],["17.118609498287924","8"],["19.012533602150537","9"],["19.04250080205325","10"],["19.83288145805091","11"],["19.88977689710847","12"],["19.470002803476312","13"],["19.716883774786513","14"],["20.193514328808444","15"],["19.8675506350841","16"],["21.218925233644857","17"],["21.091895005348473","18"],["19.387736174320782","19"],["17.68865073093639","20"],["16.197005719798778","21"],["16.13448225069966","22"],["15.769528374975792","23"]]},"focus":true},{"title":"How long does it take to ride from Midtown to Downtown?  (Use Synopsis)","text":"%sql \n\n-- Absolute_error function provides a +/- error estimate \n-- 'with error' with no constraint indicates we can tolerate any error rate.\nselect avg(trip_time_in_secs/60) tripTime, hour(pickup_datetime) as hour, absolute_error(tripTime) from nyc_taxi_trip where pickup_latitude < 40.767588 and pickup_latitude > 40.749775 and pickup_longitude > -74.001632 and  pickup_longitude < -73.974595 and dropoff_latitude > 40.716800     and  dropoff_latitude <  40.717776 and dropoff_longitude >  -74.017682 and dropoff_longitude < -74.000945 group by hour(pickup_datetime) order by hour(pickup_datetime) with error;\n\n","dateUpdated":"2016-11-25T19:13:08+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"HOUR","index":1,"aggr":"sum"}],"values":[{"name":"TRIPTIME","index":0,"aggr":"sum"},{"name":"Absolute_Error(TRIPTIME)","index":2,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"TRIPTIME","index":0,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474764523599_-42160534","id":"20160913-104646_1938915458","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:13:08+0000","dateFinished":"2016-11-25T19:13:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:225","result":{"code":"SUCCESS","type":"TABLE","msg":"TRIPTIME\tHOUR\tAbsolute_Error(TRIPTIME)\n14.720359134994006\t0\t1.3925670078239936\n14.19972920761655\t1\t1.3335453392183503\n12.327694823541187\t2\t1.456244720749515\n13.032748488178854\t3\t1.8916827901144346\n11.491105326073962\t4\t0.919163663643408\n10.310053875479927\t5\t1.0038604559874384\n11.965404725054903\t6\t1.7892775040756463\n14.805984816581452\t7\t2.153345166353735\n19.020306438046603\t8\t2.112781126977156\n19.39518469052211\t9\t2.63590788125469\n17.000544669127382\t10\t2.1204629446867473\n18.96579693379762\t11\t3.164177918136521\n19.26975158047253\t12\t2.531956150671606\n20.5110525566753\t13\t3.2306728399582667\n21.13030338234475\t14\t3.389173858085515\n20.12236826172367\t15\t3.095019930723204\n23.40826111855165\t16\t3.392818909404456\n22.493367192060116\t17\t2.692362464787447\n20.495554198519738\t18\t3.8562230118303127\n20.387439963465184\t19\t1.6480128733423989\n16.78550609373357\t20\t1.5361310490809794\n16.61045682315699\t21\t1.9186154316183153\n15.076989691279271\t22\t1.1682685026557236\n16.70176040691592\t23\t1.6324668705099459\n\n<br><font color=red>Time required to execute query : 2757 millis.</font>","comment":"<br><font color=red>Time required to execute query : 2757 millis.</font>","msgTable":[[{"key":"HOUR","value":"14.720359134994006"},{"key":"HOUR","value":"0"},{"key":"HOUR","value":"1.3925670078239936"}],[{"key":"Absolute_Error(TRIPTIME)","value":"14.19972920761655"},{"key":"Absolute_Error(TRIPTIME)","value":"1"},{"key":"Absolute_Error(TRIPTIME)","value":"1.3335453392183503"}],[{"value":"12.327694823541187"},{"value":"2"},{"value":"1.456244720749515"}],[{"value":"13.032748488178854"},{"value":"3"},{"value":"1.8916827901144346"}],[{"value":"11.491105326073962"},{"value":"4"},{"value":"0.919163663643408"}],[{"value":"10.310053875479927"},{"value":"5"},{"value":"1.0038604559874384"}],[{"value":"11.965404725054903"},{"value":"6"},{"value":"1.7892775040756463"}],[{"value":"14.805984816581452"},{"value":"7"},{"value":"2.153345166353735"}],[{"value":"19.020306438046603"},{"value":"8"},{"value":"2.112781126977156"}],[{"value":"19.39518469052211"},{"value":"9"},{"value":"2.63590788125469"}],[{"value":"17.000544669127382"},{"value":"10"},{"value":"2.1204629446867473"}],[{"value":"18.96579693379762"},{"value":"11"},{"value":"3.164177918136521"}],[{"value":"19.26975158047253"},{"value":"12"},{"value":"2.531956150671606"}],[{"value":"20.5110525566753"},{"value":"13"},{"value":"3.2306728399582667"}],[{"value":"21.13030338234475"},{"value":"14"},{"value":"3.389173858085515"}],[{"value":"20.12236826172367"},{"value":"15"},{"value":"3.095019930723204"}],[{"value":"23.40826111855165"},{"value":"16"},{"value":"3.392818909404456"}],[{"value":"22.493367192060116"},{"value":"17"},{"value":"2.692362464787447"}],[{"value":"20.495554198519738"},{"value":"18"},{"value":"3.8562230118303127"}],[{"value":"20.387439963465184"},{"value":"19"},{"value":"1.6480128733423989"}],[{"value":"16.78550609373357"},{"value":"20"},{"value":"1.5361310490809794"}],[{"value":"16.61045682315699"},{"value":"21"},{"value":"1.9186154316183153"}],[{"value":"15.076989691279271"},{"value":"22"},{"value":"1.1682685026557236"}],[{"value":"16.70176040691592"},{"value":"23"},{"value":"1.6324668705099459"}]],"columnNames":[{"name":"TRIPTIME","index":0,"aggr":"sum"},{"name":"HOUR","index":1,"aggr":"sum"},{"name":"Absolute_Error(TRIPTIME)","index":2,"aggr":"sum"}],"rows":[["14.720359134994006","0","1.3925670078239936"],["14.19972920761655","1","1.3335453392183503"],["12.327694823541187","2","1.456244720749515"],["13.032748488178854","3","1.8916827901144346"],["11.491105326073962","4","0.919163663643408"],["10.310053875479927","5","1.0038604559874384"],["11.965404725054903","6","1.7892775040756463"],["14.805984816581452","7","2.153345166353735"],["19.020306438046603","8","2.112781126977156"],["19.39518469052211","9","2.63590788125469"],["17.000544669127382","10","2.1204629446867473"],["18.96579693379762","11","3.164177918136521"],["19.26975158047253","12","2.531956150671606"],["20.5110525566753","13","3.2306728399582667"],["21.13030338234475","14","3.389173858085515"],["20.12236826172367","15","3.095019930723204"],["23.40826111855165","16","3.392818909404456"],["22.493367192060116","17","2.692362464787447"],["20.495554198519738","18","3.8562230118303127"],["20.387439963465184","19","1.6480128733423989"],["16.78550609373357","20","1.5361310490809794"],["16.61045682315699","21","1.9186154316183153"],["15.076989691279271","22","1.1682685026557236"],["16.70176040691592","23","1.6324668705099459"]]},"focus":true},{"text":"%md\n## Queries on Fare table","dateUpdated":"2016-10-14T03:58:10+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":false,"editorMode":"ace/mode/markdown","tableHide":false,"editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475014167701_528044836","id":"20160927-220927_974574372","dateCreated":"2016-09-27T03:39:27+0000","dateStarted":"2016-09-27T04:05:13+0000","dateFinished":"2016-09-27T04:05:13+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:226"},{"title":"What are the most common tip percentages in NYC for rides?","text":"%sql\n\n\n-- Try switching payment types from CRD to CSH for credit card vs Cash tips\n-- Most pay no tip when using cash. Hmm!\nSELECT (ROUND( (tip_amount / fare_amount) * 100 )) tip_pct, avg(fare_amount), count(*) trips\nFROM taxi_trip_fare WHERE payment_type = ${paymentType ='CRD'} and fare_amount > 0.00 and tip_amount < 50\nGROUP BY (ROUND( tip_amount / fare_amount * 100 ))\nORDER BY (ROUND( tip_amount / fare_amount * 100 )) limit 30;\n","dateUpdated":"2016-11-25T19:13:57+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"pieChart","height":300,"optionOpen":false,"keys":[{"name":"TIP_PCT","index":0,"aggr":"sum"}],"values":[{"name":"TRIPS","index":2,"aggr":"sum"},{"name":"avg(FARE_AMOUNT)","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"TIP_PCT","index":0,"aggr":"sum"},"yAxis":{"name":"avg(FARE_AMOUNT)","index":1,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{"paymentType":"'CRD'"},"forms":{"paymentType":{"name":"paymentType","defaultValue":"'CRD'","hidden":false}}},"jobName":"paragraph_1474764523600_-31772314","id":"20160913-110707_798631377","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:13:57+0000","dateFinished":"2016-11-25T19:14:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:227","result":{"code":"SUCCESS","type":"TABLE","msg":"TIP_PCT\tavg(FARE_AMOUNT)\tTRIPS\n0.0\t17.39065524839325\t2969042\n1.0\t14.653081153141146\t72012\n2.0\t20.772614025192706\t53190\n3.0\t25.617124897157954\t69281\n4.0\t25.70779788500825\t183074\n5.0\t20.67539952749994\t362328\n6.0\t18.604799601666944\t673808\n7.0\t16.366277235243054\t921600\n8.0\t15.533000382463877\t1286396\n9.0\t15.20030907841818\t1397380\n10.0\t16.638903067860007\t2118317\n11.0\t13.270391225941406\t2596837\n12.0\t14.530937682530938\t1866122\n13.0\t12.119563171713699\t3367227\n14.0\t12.501209590414506\t2438685\n15.0\t13.181315907822976\t2459268\n16.0\t16.137789724650556\t1090941\n17.0\t11.008520390769977\t2408271\n18.0\t9.93695325114996\t1948326\n19.0\t16.99167838016356\t1052205\n20.0\t15.236613077490453\t13568536\n21.0\t13.196096744517092\t15291802\n22.0\t10.661907009419751\t9186866\n23.0\t10.364547755828148\t4327231\n24.0\t11.457056091894918\t2512609\n25.0\t13.49774911223061\t4517502\n26.0\t14.798435502232298\t3190436\n27.0\t9.242374698782108\t2396106\n28.0\t12.693267131119484\t1253231\n29.0\t10.074595033302613\t1127389\n\n<br><font color=red>Time required to execute query : 25441 millis.</font>","comment":"<br><font color=red>Time required to execute query : 25441 millis.</font>","msgTable":[[{"key":"avg(FARE_AMOUNT)","value":"0.0"},{"key":"avg(FARE_AMOUNT)","value":"17.39065524839325"},{"key":"avg(FARE_AMOUNT)","value":"2969042"}],[{"key":"TRIPS","value":"1.0"},{"key":"TRIPS","value":"14.653081153141146"},{"key":"TRIPS","value":"72012"}],[{"value":"2.0"},{"value":"20.772614025192706"},{"value":"53190"}],[{"value":"3.0"},{"value":"25.617124897157954"},{"value":"69281"}],[{"value":"4.0"},{"value":"25.70779788500825"},{"value":"183074"}],[{"value":"5.0"},{"value":"20.67539952749994"},{"value":"362328"}],[{"value":"6.0"},{"value":"18.604799601666944"},{"value":"673808"}],[{"value":"7.0"},{"value":"16.366277235243054"},{"value":"921600"}],[{"value":"8.0"},{"value":"15.533000382463877"},{"value":"1286396"}],[{"value":"9.0"},{"value":"15.20030907841818"},{"value":"1397380"}],[{"value":"10.0"},{"value":"16.638903067860007"},{"value":"2118317"}],[{"value":"11.0"},{"value":"13.270391225941406"},{"value":"2596837"}],[{"value":"12.0"},{"value":"14.530937682530938"},{"value":"1866122"}],[{"value":"13.0"},{"value":"12.119563171713699"},{"value":"3367227"}],[{"value":"14.0"},{"value":"12.501209590414506"},{"value":"2438685"}],[{"value":"15.0"},{"value":"13.181315907822976"},{"value":"2459268"}],[{"value":"16.0"},{"value":"16.137789724650556"},{"value":"1090941"}],[{"value":"17.0"},{"value":"11.008520390769977"},{"value":"2408271"}],[{"value":"18.0"},{"value":"9.93695325114996"},{"value":"1948326"}],[{"value":"19.0"},{"value":"16.99167838016356"},{"value":"1052205"}],[{"value":"20.0"},{"value":"15.236613077490453"},{"value":"13568536"}],[{"value":"21.0"},{"value":"13.196096744517092"},{"value":"15291802"}],[{"value":"22.0"},{"value":"10.661907009419751"},{"value":"9186866"}],[{"value":"23.0"},{"value":"10.364547755828148"},{"value":"4327231"}],[{"value":"24.0"},{"value":"11.457056091894918"},{"value":"2512609"}],[{"value":"25.0"},{"value":"13.49774911223061"},{"value":"4517502"}],[{"value":"26.0"},{"value":"14.798435502232298"},{"value":"3190436"}],[{"value":"27.0"},{"value":"9.242374698782108"},{"value":"2396106"}],[{"value":"28.0"},{"value":"12.693267131119484"},{"value":"1253231"}],[{"value":"29.0"},{"value":"10.074595033302613"},{"value":"1127389"}]],"columnNames":[{"name":"TIP_PCT","index":0,"aggr":"sum"},{"name":"avg(FARE_AMOUNT)","index":1,"aggr":"sum"},{"name":"TRIPS","index":2,"aggr":"sum"}],"rows":[["0.0","17.39065524839325","2969042"],["1.0","14.653081153141146","72012"],["2.0","20.772614025192706","53190"],["3.0","25.617124897157954","69281"],["4.0","25.70779788500825","183074"],["5.0","20.67539952749994","362328"],["6.0","18.604799601666944","673808"],["7.0","16.366277235243054","921600"],["8.0","15.533000382463877","1286396"],["9.0","15.20030907841818","1397380"],["10.0","16.638903067860007","2118317"],["11.0","13.270391225941406","2596837"],["12.0","14.530937682530938","1866122"],["13.0","12.119563171713699","3367227"],["14.0","12.501209590414506","2438685"],["15.0","13.181315907822976","2459268"],["16.0","16.137789724650556","1090941"],["17.0","11.008520390769977","2408271"],["18.0","9.93695325114996","1948326"],["19.0","16.99167838016356","1052205"],["20.0","15.236613077490453","13568536"],["21.0","13.196096744517092","15291802"],["22.0","10.661907009419751","9186866"],["23.0","10.364547755828148","4327231"],["24.0","11.457056091894918","2512609"],["25.0","13.49774911223061","4517502"],["26.0","14.798435502232298","3190436"],["27.0","9.242374698782108","2396106"],["28.0","12.693267131119484","1253231"],["29.0","10.074595033302613","1127389"]]},"focus":true},{"title":"What are the most common tip percentages in NYC for rides?  (Use Synopsis)","text":"%sql\n\n-- Payment type : 'CSH'(cash), 'CRD'(credit card), 'DIS'...\nSELECT (ROUND( (tip_amount / fare_amount) * 100 )) tip_pct, avg(fare_amount), count(*) trips\nFROM taxi_trip_fare WHERE \npayment_type = ${paymentType='CRD'}\n and fare_amount > 0.00 and tip_amount < 50\nGROUP BY (ROUND( tip_amount / fare_amount * 100 ))\nORDER BY (ROUND( tip_amount / fare_amount * 100 )) limit 30 with error 0.2 behavior 'partial_run_on_base_table' ;\n","dateUpdated":"2016-11-25T19:13:52+0000","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"pieChart","height":300,"optionOpen":false,"keys":[{"name":"TIP_PCT","index":0,"aggr":"sum"}],"values":[{"name":"TRIPS","index":2,"aggr":"sum"},{"name":"avg(FARE_AMOUNT)","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"TIP_PCT","index":0,"aggr":"sum"}}},"editorMode":"ace/mode/sql","colWidth":6},"settings":{"params":{"paymentType":"'CRD'","payment_type":"CRD","fields":[],"paymentType in 'CRD'":""},"forms":{"paymentType":{"name":"paymentType","defaultValue":"'CRD'","hidden":false}}},"jobName":"paragraph_1474764523600_-31772314","id":"20160913-110616_1099195513","dateCreated":"2016-09-25T06:18:43+0000","dateStarted":"2016-11-25T19:13:52+0000","dateFinished":"2016-11-25T19:13:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:228","result":{"code":"SUCCESS","type":"TABLE","msg":"TIP_PCT\tavg(FARE_AMOUNT)\tTRIPS\n0.0\t17.543845003863513\t2994707\n1.0\t14.627028234552673\t70767\n2.0\t20.269779168917996\t52302\n3.0\t26.041938390090547\t68973\n4.0\t25.94389518779764\t182195\n5.0\t20.617516557779258\t369433\n6.0\t18.689521928672114\t680400\n7.0\t16.346712311834256\t920637\n8.0\t15.517538230263472\t1283640\n9.0\t15.152110337466407\t1393930\n10.0\t16.703561802194095\t2113567\n11.0\t13.279787214399054\t2589779\n12.0\t14.526923280537584\t1866271\n13.0\t12.175415093567945\t3356098\n14.0\t12.472523787255495\t2405596\n15.0\t13.136243542793125\t2460634\n16.0\t16.175915769869448\t1079573\n17.0\t10.924489638054965\t2447504\n18.0\t9.995980074543613\t1942626\n19.0\t16.933072697460027\t1055230\n20.0\t15.237796345474868\t13570330\n21.0\t13.224137980624814\t15266467\n22.0\t10.649674645900841\t9162186\n23.0\t10.39339780211734\t4299210\n24.0\t11.392366508196448\t2570278\n25.0\t13.43707730628625\t4501608\n26.0\t14.806675580220599\t3180826\n27.0\t9.25364621143828\t2406739\n28.0\t12.672879981902865\t1241036\n29.0\t10.208999818831932\t1130000\n\n<br><font color=red>Time required to execute query : 1541 millis.</font>","comment":"<br><font color=red>Time required to execute query : 1541 millis.</font>","msgTable":[[{"key":"avg(FARE_AMOUNT)","value":"0.0"},{"key":"avg(FARE_AMOUNT)","value":"17.543845003863513"},{"key":"avg(FARE_AMOUNT)","value":"2994707"}],[{"key":"TRIPS","value":"1.0"},{"key":"TRIPS","value":"14.627028234552673"},{"key":"TRIPS","value":"70767"}],[{"value":"2.0"},{"value":"20.269779168917996"},{"value":"52302"}],[{"value":"3.0"},{"value":"26.041938390090547"},{"value":"68973"}],[{"value":"4.0"},{"value":"25.94389518779764"},{"value":"182195"}],[{"value":"5.0"},{"value":"20.617516557779258"},{"value":"369433"}],[{"value":"6.0"},{"value":"18.689521928672114"},{"value":"680400"}],[{"value":"7.0"},{"value":"16.346712311834256"},{"value":"920637"}],[{"value":"8.0"},{"value":"15.517538230263472"},{"value":"1283640"}],[{"value":"9.0"},{"value":"15.152110337466407"},{"value":"1393930"}],[{"value":"10.0"},{"value":"16.703561802194095"},{"value":"2113567"}],[{"value":"11.0"},{"value":"13.279787214399054"},{"value":"2589779"}],[{"value":"12.0"},{"value":"14.526923280537584"},{"value":"1866271"}],[{"value":"13.0"},{"value":"12.175415093567945"},{"value":"3356098"}],[{"value":"14.0"},{"value":"12.472523787255495"},{"value":"2405596"}],[{"value":"15.0"},{"value":"13.136243542793125"},{"value":"2460634"}],[{"value":"16.0"},{"value":"16.175915769869448"},{"value":"1079573"}],[{"value":"17.0"},{"value":"10.924489638054965"},{"value":"2447504"}],[{"value":"18.0"},{"value":"9.995980074543613"},{"value":"1942626"}],[{"value":"19.0"},{"value":"16.933072697460027"},{"value":"1055230"}],[{"value":"20.0"},{"value":"15.237796345474868"},{"value":"13570330"}],[{"value":"21.0"},{"value":"13.224137980624814"},{"value":"15266467"}],[{"value":"22.0"},{"value":"10.649674645900841"},{"value":"9162186"}],[{"value":"23.0"},{"value":"10.39339780211734"},{"value":"4299210"}],[{"value":"24.0"},{"value":"11.392366508196448"},{"value":"2570278"}],[{"value":"25.0"},{"value":"13.43707730628625"},{"value":"4501608"}],[{"value":"26.0"},{"value":"14.806675580220599"},{"value":"3180826"}],[{"value":"27.0"},{"value":"9.25364621143828"},{"value":"2406739"}],[{"value":"28.0"},{"value":"12.672879981902865"},{"value":"1241036"}],[{"value":"29.0"},{"value":"10.208999818831932"},{"value":"1130000"}]],"columnNames":[{"name":"TIP_PCT","index":0,"aggr":"sum"},{"name":"avg(FARE_AMOUNT)","index":1,"aggr":"sum"},{"name":"TRIPS","index":2,"aggr":"sum"}],"rows":[["0.0","17.543845003863513","2994707"],["1.0","14.627028234552673","70767"],["2.0","20.269779168917996","52302"],["3.0","26.041938390090547","68973"],["4.0","25.94389518779764","182195"],["5.0","20.617516557779258","369433"],["6.0","18.689521928672114","680400"],["7.0","16.346712311834256","920637"],["8.0","15.517538230263472","1283640"],["9.0","15.152110337466407","1393930"],["10.0","16.703561802194095","2113567"],["11.0","13.279787214399054","2589779"],["12.0","14.526923280537584","1866271"],["13.0","12.175415093567945","3356098"],["14.0","12.472523787255495","2405596"],["15.0","13.136243542793125","2460634"],["16.0","16.175915769869448","1079573"],["17.0","10.924489638054965","2447504"],["18.0","9.995980074543613","1942626"],["19.0","16.933072697460027","1055230"],["20.0","15.237796345474868","13570330"],["21.0","13.224137980624814","15266467"],["22.0","10.649674645900841","9162186"],["23.0","10.39339780211734","4299210"],["24.0","11.392366508196448","2570278"],["25.0","13.43707730628625","4501608"],["26.0","14.806675580220599","3180826"],["27.0","9.25364621143828","2406739"],["28.0","12.672879981902865","1241036"],["29.0","10.208999818831932","1130000"]]},"focus":true},{"title":"Locations with the most taxis in NYC","text":"%snappydata\nval d=snc.sql(\"select round(dropoff_latitude,4),round(dropoff_longitude,4),count(*) cnt from nyc_taxi_trip  where (dropoff_latitude between 40 and 41) and (dropoff_longitude between -74 and -73)   group by round(dropoff_latitude,4),round(dropoff_longitude,4) order by cnt desc limit 200 with error\")\n\n//val d=snc.sql(\"select round(dropoff_latitude,5),round(dropoff_longitude,5),count(*) cnt from nyc_taxi_trip  where (dropoff_latitude between 40 and 41) and (dropoff_longitude between -74 and -73)   group by round(dropoff_latitude,5),round(dropoff_longitude,5) order by cnt desc limit 50 with error\")\nval gson = new com.google.gson.Gson()\nval raw=d.rdd.map{r=>\nMap(\n\"HOWMANYTRIPS\" -> r(2),\n\"LAT\" -> r(0).toString.toDouble,\n\"LON\" -> r(1).toString.toDouble\n)}.collect.map(s=>scala.collection.JavaConversions.mapAsJavaMap(s))\nval dataJson = gson.toJson(raw)\n\nprintln(s\"\"\"%html\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Heatmaps</title>\n    <style>\n      #mapDiv {\n        height: 700px;\n        width: 1000px;\n      }\n      #floating-panel {\n        position: absolute;\n        left: 25%;\n        z-index: 5;\n        background-color: #fff;\n        padding: 3px;\n        border: 1px solid #999;\n        text-align: center;\n        font-family: 'Roboto','sans-serif';\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"floating-panel\">\n      <button onclick=\"toggleHeatmap()\">Toggle Heatmap</button>\n      <button onclick=\"changeGradient()\">Change gradient</button>\n      <button onclick=\"changeRadius()\">Change radius</button>\n      <button onclick=\"changeOpacity()\">Change opacity</button>\n    </div>\n    <div id=\"mapDiv\"></div>\n    <script>\n\n      // This example requires the Visualization library. Include the libraries=visualization\n      // parameter when you first load the API. For example:\n      // <script src=\"https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization\">\n\n      var map, heatmap;\n      \n      function buildMapData() {\n        var geoDataPoints=[];\n        \n        ${dataJson}.forEach(s => { \n           geoDataPoints.push(new google.maps.LatLng(s.LAT, s.LON));\n           \n        });\n        return geoDataPoints;\n      }\n\n      function initMap() {\n      \n      var geoData = buildMapData();\n      \n        map = new google.maps.Map(document.getElementById('mapDiv'), {\n          zoom: 11,\n          center: {lat: 40.74, lng: -73.98},\n          mapTypeId: 'roadmap'\n        });\n\n        heatmap = new google.maps.visualization.HeatmapLayer({\n          data: geoData,\n          map: map\n        });\n      }\n\n      function toggleHeatmap() {\n        heatmap.setMap(heatmap.getMap() ? null : map);\n      }\n\n      function changeGradient() {\n        var gradient = [\n          'rgba(0, 255, 255, 0)',\n          'rgba(0, 255, 255, 1)',\n          'rgba(0, 191, 255, 1)',\n          'rgba(0, 127, 255, 1)',\n          'rgba(0, 63, 255, 1)',\n          'rgba(0, 0, 255, 1)',\n          'rgba(0, 0, 223, 1)',\n          'rgba(0, 0, 191, 1)',\n          'rgba(0, 0, 159, 1)',\n          'rgba(0, 0, 127, 1)',\n          'rgba(63, 0, 91, 1)',\n          'rgba(127, 0, 63, 1)',\n          'rgba(191, 0, 31, 1)',\n          'rgba(255, 0, 0, 1)'\n        ]\n        heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);\n      }\n\n      function changeRadius() {\n        heatmap.set('radius', heatmap.get('radius') ? null : 20);\n      }\n\n      function changeOpacity() {\n        heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);\n      }\n\n      \n    </script>\n    <script async defer src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDaMDbH-BKjboCl3ohjqsayMa-w335GmpA&libraries=visualization&callback=initMap\"></script>\n  </body>\n    \n\n\"\"\")","dateUpdated":"2016-11-25T19:14:27+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true,"editorHide":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475752757399_-1870018474","id":"20161006-111917_1418725249","dateCreated":"2016-10-06T04:49:17+0000","dateStarted":"2016-11-25T19:14:27+0000","dateFinished":"2016-11-25T19:14:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:229","result":{"code":"SUCCESS","type":"HTML","msg":"  <head>\n    <meta charset=\"utf-8\">\n    <title>Heatmaps</title>\n    <style>\n      #mapDiv {\n        height: 700px;\n        width: 1000px;\n      }\n      #floating-panel {\n        position: absolute;\n        left: 25%;\n        z-index: 5;\n        background-color: #fff;\n        padding: 3px;\n        border: 1px solid #999;\n        text-align: center;\n        font-family: 'Roboto','sans-serif';\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"floating-panel\">\n      <button onclick=\"toggleHeatmap()\">Toggle Heatmap</button>\n      <button onclick=\"changeGradient()\">Change gradient</button>\n      <button onclick=\"changeRadius()\">Change radius</button>\n      <button onclick=\"changeOpacity()\">Change opacity</button>\n    </div>\n    <div id=\"mapDiv\"></div>\n    <script>\n\n      // This example requires the Visualization library. Include the libraries=visualization\n      // parameter when you first load the API. For example:\n      // <script src=\"https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization\">\n\n      var map, heatmap;\n      \n      function buildMapData() {\n        var geoDataPoints=[];\n        \n        [{\"HOWMANYTRIPS\":37328,\"LAT\":40.7501,\"LON\":-73.9949},{\"HOWMANYTRIPS\":36843,\"LAT\":40.7504,\"LON\":-73.9947},{\"HOWMANYTRIPS\":36638,\"LAT\":40.7682,\"LON\":-73.8615},{\"HOWMANYTRIPS\":33846,\"LAT\":40.7683,\"LON\":-73.8616},{\"HOWMANYTRIPS\":33272,\"LAT\":40.7502,\"LON\":-73.9949},{\"HOWMANYTRIPS\":29574,\"LAT\":40.7503,\"LON\":-73.9912},{\"HOWMANYTRIPS\":28912,\"LAT\":40.7502,\"LON\":-73.9913},{\"HOWMANYTRIPS\":27876,\"LAT\":40.75,\"LON\":-73.995},{\"HOWMANYTRIPS\":27843,\"LAT\":40.7683,\"LON\":-73.8617},{\"HOWMANYTRIPS\":27703,\"LAT\":40.7503,\"LON\":-73.9913},{\"HOWMANYTRIPS\":27688,\"LAT\":40.7684,\"LON\":-73.8618},{\"HOWMANYTRIPS\":26925,\"LAT\":40.7503,\"LON\":-73.9948},{\"HOWMANYTRIPS\":26222,\"LAT\":40.7501,\"LON\":-73.995},{\"HOWMANYTRIPS\":26053,\"LAT\":40.7501,\"LON\":-73.9914},{\"HOWMANYTRIPS\":24673,\"LAT\":40.7505,\"LON\":-73.9946},{\"HOWMANYTRIPS\":24378,\"LAT\":40.7681,\"LON\":-73.8614},{\"HOWMANYTRIPS\":23420,\"LAT\":40.7709,\"LON\":-73.8656},{\"HOWMANYTRIPS\":22931,\"LAT\":40.7502,\"LON\":-73.9912},{\"HOWMANYTRIPS\":22818,\"LAT\":40.7741,\"LON\":-73.8709},{\"HOWMANYTRIPS\":22634,\"LAT\":40.7501,\"LON\":-73.9913},{\"HOWMANYTRIPS\":22357,\"LAT\":40.774,\"LON\":-73.8708},{\"HOWMANYTRIPS\":22144,\"LAT\":40.7504,\"LON\":-73.9912},{\"HOWMANYTRIPS\":21517,\"LAT\":40.7742,\"LON\":-73.8711},{\"HOWMANYTRIPS\":21209,\"LAT\":40.7708,\"LON\":-73.8655},{\"HOWMANYTRIPS\":20949,\"LAT\":40.7684,\"LON\":-73.8617},{\"HOWMANYTRIPS\":20636,\"LAT\":40.7505,\"LON\":-73.9911},{\"HOWMANYTRIPS\":20374,\"LAT\":40.7499,\"LON\":-73.9951},{\"HOWMANYTRIPS\":19879,\"LAT\":40.75,\"LON\":-73.9914},{\"HOWMANYTRIPS\":19388,\"LAT\":40.7682,\"LON\":-73.8616},{\"HOWMANYTRIPS\":19385,\"LAT\":40.768,\"LON\":-73.8613},{\"HOWMANYTRIPS\":19301,\"LAT\":40.7742,\"LON\":-73.871},{\"HOWMANYTRIPS\":18914,\"LAT\":40.7704,\"LON\":-73.8649},{\"HOWMANYTRIPS\":18544,\"LAT\":40.7502,\"LON\":-73.9914},{\"HOWMANYTRIPS\":18445,\"LAT\":40.771,\"LON\":-73.8657},{\"HOWMANYTRIPS\":18358,\"LAT\":40.7743,\"LON\":-73.8727},{\"HOWMANYTRIPS\":18290,\"LAT\":40.7503,\"LON\":-73.9911},{\"HOWMANYTRIPS\":18104,\"LAT\":40.7685,\"LON\":-73.8619},{\"HOWMANYTRIPS\":18050,\"LAT\":40.7504,\"LON\":-73.9911},{\"HOWMANYTRIPS\":17863,\"LAT\":40.7739,\"LON\":-73.8707},{\"HOWMANYTRIPS\":17786,\"LAT\":40.7505,\"LON\":-73.9947},{\"HOWMANYTRIPS\":17150,\"LAT\":40.7705,\"LON\":-73.865},{\"HOWMANYTRIPS\":16988,\"LAT\":40.75,\"LON\":-73.9915},{\"HOWMANYTRIPS\":16684,\"LAT\":40.7502,\"LON\":-73.9948},{\"HOWMANYTRIPS\":16294,\"LAT\":40.7679,\"LON\":-73.8612},{\"HOWMANYTRIPS\":16014,\"LAT\":40.7708,\"LON\":-73.8654},{\"HOWMANYTRIPS\":15895,\"LAT\":40.7503,\"LON\":-73.9947},{\"HOWMANYTRIPS\":15857,\"LAT\":40.7501,\"LON\":-73.9912},{\"HOWMANYTRIPS\":15820,\"LAT\":40.7738,\"LON\":-73.8705},{\"HOWMANYTRIPS\":15806,\"LAT\":40.7506,\"LON\":-73.991},{\"HOWMANYTRIPS\":15745,\"LAT\":40.7492,\"LON\":-73.9922},{\"HOWMANYTRIPS\":15741,\"LAT\":40.7499,\"LON\":-73.9915},{\"HOWMANYTRIPS\":15736,\"LAT\":40.7492,\"LON\":-73.9921},{\"HOWMANYTRIPS\":15364,\"LAT\":40.7745,\"LON\":-73.8725},{\"HOWMANYTRIPS\":15175,\"LAT\":40.75,\"LON\":-73.9951},{\"HOWMANYTRIPS\":15057,\"LAT\":40.75,\"LON\":-73.9913},{\"HOWMANYTRIPS\":14955,\"LAT\":40.7504,\"LON\":-73.9948},{\"HOWMANYTRIPS\":14911,\"LAT\":40.7707,\"LON\":-73.8653},{\"HOWMANYTRIPS\":14855,\"LAT\":40.7732,\"LON\":-73.8855},{\"HOWMANYTRIPS\":14851,\"LAT\":40.7741,\"LON\":-73.871},{\"HOWMANYTRIPS\":14625,\"LAT\":40.7743,\"LON\":-73.8728},{\"HOWMANYTRIPS\":14377,\"LAT\":40.7744,\"LON\":-73.873},{\"HOWMANYTRIPS\":14373,\"LAT\":40.7504,\"LON\":-73.991},{\"HOWMANYTRIPS\":14346,\"LAT\":40.7744,\"LON\":-73.8729},{\"HOWMANYTRIPS\":14297,\"LAT\":40.7503,\"LON\":-73.9914},{\"HOWMANYTRIPS\":14274,\"LAT\":40.7498,\"LON\":-73.9952},{\"HOWMANYTRIPS\":14230,\"LAT\":40.7743,\"LON\":-73.8726},{\"HOWMANYTRIPS\":14219,\"LAT\":40.7509,\"LON\":-73.9908},{\"HOWMANYTRIPS\":14171,\"LAT\":40.7493,\"LON\":-73.9922},{\"HOWMANYTRIPS\":14165,\"LAT\":40.7706,\"LON\":-73.8652},{\"HOWMANYTRIPS\":14155,\"LAT\":40.774,\"LON\":-73.8707},{\"HOWMANYTRIPS\":14051,\"LAT\":40.7501,\"LON\":-73.9915},{\"HOWMANYTRIPS\":14007,\"LAT\":40.7504,\"LON\":-73.9913},{\"HOWMANYTRIPS\":13728,\"LAT\":40.7745,\"LON\":-73.8723},{\"HOWMANYTRIPS\":13700,\"LAT\":40.6469,\"LON\":-73.79},{\"HOWMANYTRIPS\":13653,\"LAT\":40.7505,\"LON\":-73.991},{\"HOWMANYTRIPS\":13629,\"LAT\":40.7745,\"LON\":-73.8724},{\"HOWMANYTRIPS\":13624,\"LAT\":40.7739,\"LON\":-73.8706},{\"HOWMANYTRIPS\":13531,\"LAT\":40.7738,\"LON\":-73.8706},{\"HOWMANYTRIPS\":13460,\"LAT\":40.7505,\"LON\":-73.9912},{\"HOWMANYTRIPS\":13401,\"LAT\":40.7507,\"LON\":-73.9909},{\"HOWMANYTRIPS\":13132,\"LAT\":40.7707,\"LON\":-73.8654},{\"HOWMANYTRIPS\":13117,\"LAT\":40.7743,\"LON\":-73.8725},{\"HOWMANYTRIPS\":12961,\"LAT\":40.771,\"LON\":-73.8658},{\"HOWMANYTRIPS\":12856,\"LAT\":40.7705,\"LON\":-73.8651},{\"HOWMANYTRIPS\":12828,\"LAT\":40.7499,\"LON\":-73.9914},{\"HOWMANYTRIPS\":12747,\"LAT\":40.7492,\"LON\":-73.9923},{\"HOWMANYTRIPS\":12697,\"LAT\":40.6488,\"LON\":-73.7824},{\"HOWMANYTRIPS\":12546,\"LAT\":40.7744,\"LON\":-73.8731},{\"HOWMANYTRIPS\":12511,\"LAT\":40.7506,\"LON\":-73.9946},{\"HOWMANYTRIPS\":12451,\"LAT\":40.7703,\"LON\":-73.8648},{\"HOWMANYTRIPS\":12152,\"LAT\":40.7745,\"LON\":-73.8727},{\"HOWMANYTRIPS\":12092,\"LAT\":40.7745,\"LON\":-73.8726},{\"HOWMANYTRIPS\":12086,\"LAT\":40.7506,\"LON\":-73.9911},{\"HOWMANYTRIPS\":11996,\"LAT\":40.7502,\"LON\":-73.9911},{\"HOWMANYTRIPS\":11969,\"LAT\":40.7493,\"LON\":-73.9923},{\"HOWMANYTRIPS\":11836,\"LAT\":40.7744,\"LON\":-73.8727},{\"HOWMANYTRIPS\":11804,\"LAT\":40.7493,\"LON\":-73.9921},{\"HOWMANYTRIPS\":11580,\"LAT\":40.6452,\"LON\":-73.7764},{\"HOWMANYTRIPS\":11542,\"LAT\":40.7684,\"LON\":-73.9819},{\"HOWMANYTRIPS\":11473,\"LAT\":40.7502,\"LON\":-73.9915},{\"HOWMANYTRIPS\":11378,\"LAT\":40.7683,\"LON\":-73.9824},{\"HOWMANYTRIPS\":11329,\"LAT\":40.7744,\"LON\":-73.8728},{\"HOWMANYTRIPS\":11317,\"LAT\":40.7744,\"LON\":-73.8725},{\"HOWMANYTRIPS\":11302,\"LAT\":40.7491,\"LON\":-73.9918},{\"HOWMANYTRIPS\":11281,\"LAT\":40.7744,\"LON\":-73.8732},{\"HOWMANYTRIPS\":11152,\"LAT\":40.7491,\"LON\":-73.9919},{\"HOWMANYTRIPS\":11150,\"LAT\":40.749,\"LON\":-73.9916},{\"HOWMANYTRIPS\":11099,\"LAT\":40.7745,\"LON\":-73.8728},{\"HOWMANYTRIPS\":10927,\"LAT\":40.75,\"LON\":-73.9949},{\"HOWMANYTRIPS\":10875,\"LAT\":40.749,\"LON\":-73.9917},{\"HOWMANYTRIPS\":10865,\"LAT\":40.7741,\"LON\":-73.8708},{\"HOWMANYTRIPS\":10756,\"LAT\":40.7491,\"LON\":-73.9917},{\"HOWMANYTRIPS\":10722,\"LAT\":40.7737,\"LON\":-73.8705},{\"HOWMANYTRIPS\":10703,\"LAT\":40.7419,\"LON\":-73.9748},{\"HOWMANYTRIPS\":10662,\"LAT\":40.7508,\"LON\":-73.9908},{\"HOWMANYTRIPS\":10598,\"LAT\":40.749,\"LON\":-73.9918},{\"HOWMANYTRIPS\":10516,\"LAT\":40.7506,\"LON\":-73.9909},{\"HOWMANYTRIPS\":10508,\"LAT\":40.6453,\"LON\":-73.7764},{\"HOWMANYTRIPS\":10497,\"LAT\":40.7499,\"LON\":-73.9916},{\"HOWMANYTRIPS\":10430,\"LAT\":40.751,\"LON\":-73.9907},{\"HOWMANYTRIPS\":10386,\"LAT\":40.7709,\"LON\":-73.8655},{\"HOWMANYTRIPS\":10259,\"LAT\":40.7681,\"LON\":-73.8613},{\"HOWMANYTRIPS\":10235,\"LAT\":40.7702,\"LON\":-73.8646},{\"HOWMANYTRIPS\":10178,\"LAT\":40.7503,\"LON\":-73.991},{\"HOWMANYTRIPS\":10163,\"LAT\":40.751,\"LON\":-73.9906},{\"HOWMANYTRIPS\":10120,\"LAT\":40.7499,\"LON\":-73.995},{\"HOWMANYTRIPS\":10117,\"LAT\":40.7508,\"LON\":-73.9909},{\"HOWMANYTRIPS\":10103,\"LAT\":40.7504,\"LON\":-73.9914},{\"HOWMANYTRIPS\":10088,\"LAT\":40.7678,\"LON\":-73.8612},{\"HOWMANYTRIPS\":10070,\"LAT\":40.7497,\"LON\":-73.9952},{\"HOWMANYTRIPS\":10023,\"LAT\":40.7497,\"LON\":-73.9953},{\"HOWMANYTRIPS\":9978,\"LAT\":40.6488,\"LON\":-73.7825},{\"HOWMANYTRIPS\":9952,\"LAT\":40.7709,\"LON\":-73.8657},{\"HOWMANYTRIPS\":9920,\"LAT\":40.75,\"LON\":-73.9912},{\"HOWMANYTRIPS\":9908,\"LAT\":40.7706,\"LON\":-73.8651},{\"HOWMANYTRIPS\":9860,\"LAT\":40.7492,\"LON\":-73.992},{\"HOWMANYTRIPS\":9841,\"LAT\":40.7685,\"LON\":-73.8618},{\"HOWMANYTRIPS\":9769,\"LAT\":40.7641,\"LON\":-73.9542},{\"HOWMANYTRIPS\":9705,\"LAT\":40.7731,\"LON\":-73.8854},{\"HOWMANYTRIPS\":9687,\"LAT\":40.7736,\"LON\":-73.8704},{\"HOWMANYTRIPS\":9673,\"LAT\":40.7491,\"LON\":-73.9921},{\"HOWMANYTRIPS\":9626,\"LAT\":40.7639,\"LON\":-73.9542},{\"HOWMANYTRIPS\":9617,\"LAT\":40.774,\"LON\":-73.8709},{\"HOWMANYTRIPS\":9592,\"LAT\":40.7498,\"LON\":-73.9951},{\"HOWMANYTRIPS\":9559,\"LAT\":40.7491,\"LON\":-73.9922},{\"HOWMANYTRIPS\":9497,\"LAT\":40.7226,\"LON\":-73.9878},{\"HOWMANYTRIPS\":9462,\"LAT\":40.7743,\"LON\":-73.8724},{\"HOWMANYTRIPS\":9440,\"LAT\":40.7743,\"LON\":-73.8729},{\"HOWMANYTRIPS\":9405,\"LAT\":40.7509,\"LON\":-73.9907},{\"HOWMANYTRIPS\":9393,\"LAT\":40.7744,\"LON\":-73.8724},{\"HOWMANYTRIPS\":9381,\"LAT\":40.7703,\"LON\":-73.8647},{\"HOWMANYTRIPS\":9380,\"LAT\":40.764,\"LON\":-73.9541},{\"HOWMANYTRIPS\":9347,\"LAT\":40.6456,\"LON\":-73.7763},{\"HOWMANYTRIPS\":9347,\"LAT\":40.7501,\"LON\":-73.9916},{\"HOWMANYTRIPS\":9330,\"LAT\":40.7491,\"LON\":-73.992},{\"HOWMANYTRIPS\":9307,\"LAT\":40.7744,\"LON\":-73.8726},{\"HOWMANYTRIPS\":9249,\"LAT\":40.7506,\"LON\":-73.9945},{\"HOWMANYTRIPS\":9237,\"LAT\":40.7559,\"LON\":-73.9909},{\"HOWMANYTRIPS\":9231,\"LAT\":40.7417,\"LON\":-73.975},{\"HOWMANYTRIPS\":9229,\"LAT\":40.75,\"LON\":-73.9916},{\"HOWMANYTRIPS\":9178,\"LAT\":40.7745,\"LON\":-73.8722},{\"HOWMANYTRIPS\":9144,\"LAT\":40.7496,\"LON\":-73.9953},{\"HOWMANYTRIPS\":9125,\"LAT\":40.7745,\"LON\":-73.8729},{\"HOWMANYTRIPS\":9097,\"LAT\":40.7505,\"LON\":-73.9909},{\"HOWMANYTRIPS\":9094,\"LAT\":40.6488,\"LON\":-73.7823},{\"HOWMANYTRIPS\":9068,\"LAT\":40.7498,\"LON\":-73.9916},{\"HOWMANYTRIPS\":9021,\"LAT\":40.7557,\"LON\":-73.991},{\"HOWMANYTRIPS\":9001,\"LAT\":40.7684,\"LON\":-73.982},{\"HOWMANYTRIPS\":9001,\"LAT\":40.7506,\"LON\":-73.9912},{\"HOWMANYTRIPS\":8928,\"LAT\":40.7628,\"LON\":-73.9678},{\"HOWMANYTRIPS\":8910,\"LAT\":40.7511,\"LON\":-73.9906},{\"HOWMANYTRIPS\":8878,\"LAT\":40.647,\"LON\":-73.7898},{\"HOWMANYTRIPS\":8848,\"LAT\":40.7511,\"LON\":-73.9908},{\"HOWMANYTRIPS\":8784,\"LAT\":40.7561,\"LON\":-73.9907},{\"HOWMANYTRIPS\":8779,\"LAT\":40.7492,\"LON\":-73.9919},{\"HOWMANYTRIPS\":8778,\"LAT\":40.764,\"LON\":-73.9542},{\"HOWMANYTRIPS\":8771,\"LAT\":40.7742,\"LON\":-73.8712},{\"HOWMANYTRIPS\":8767,\"LAT\":40.7743,\"LON\":-73.8713},{\"HOWMANYTRIPS\":8719,\"LAT\":40.7418,\"LON\":-73.9749},{\"HOWMANYTRIPS\":8668,\"LAT\":40.7499,\"LON\":-73.9913},{\"HOWMANYTRIPS\":8637,\"LAT\":40.7514,\"LON\":-73.9903},{\"HOWMANYTRIPS\":8570,\"LAT\":40.7489,\"LON\":-73.9915},{\"HOWMANYTRIPS\":8534,\"LAT\":40.7743,\"LON\":-73.8723},{\"HOWMANYTRIPS\":8496,\"LAT\":40.7741,\"LON\":-73.8711},{\"HOWMANYTRIPS\":8492,\"LAT\":40.751,\"LON\":-73.9908},{\"HOWMANYTRIPS\":8471,\"LAT\":40.7681,\"LON\":-73.8615},{\"HOWMANYTRIPS\":8471,\"LAT\":40.7505,\"LON\":-73.9913},{\"HOWMANYTRIPS\":8464,\"LAT\":40.7737,\"LON\":-73.8704},{\"HOWMANYTRIPS\":8389,\"LAT\":40.748,\"LON\":-73.9891},{\"HOWMANYTRIPS\":8369,\"LAT\":40.7794,\"LON\":-73.9621},{\"HOWMANYTRIPS\":8359,\"LAT\":40.7503,\"LON\":-73.9949},{\"HOWMANYTRIPS\":8349,\"LAT\":40.6439,\"LON\":-73.7831},{\"HOWMANYTRIPS\":8336,\"LAT\":40.7498,\"LON\":-73.9915},{\"HOWMANYTRIPS\":8331,\"LAT\":40.7507,\"LON\":-73.991},{\"HOWMANYTRIPS\":8324,\"LAT\":40.7682,\"LON\":-73.8614},{\"HOWMANYTRIPS\":8322,\"LAT\":40.6455,\"LON\":-73.7763},{\"HOWMANYTRIPS\":8289,\"LAT\":40.7346,\"LON\":-73.9999},{\"HOWMANYTRIPS\":8281,\"LAT\":40.7501,\"LON\":-73.9911},{\"HOWMANYTRIPS\":8271,\"LAT\":40.7592,\"LON\":-73.9957},{\"HOWMANYTRIPS\":8259,\"LAT\":40.6468,\"LON\":-73.7902}].forEach(s => { \n           geoDataPoints.push(new google.maps.LatLng(s.LAT, s.LON));\n           \n        });\n        return geoDataPoints;\n      }\n\n      function initMap() {\n      \n      var geoData = buildMapData();\n      \n        map = new google.maps.Map(document.getElementById('mapDiv'), {\n          zoom: 11,\n          center: {lat: 40.74, lng: -73.98},\n          mapTypeId: 'roadmap'\n        });\n\n        heatmap = new google.maps.visualization.HeatmapLayer({\n          data: geoData,\n          map: map\n        });\n      }\n\n      function toggleHeatmap() {\n        heatmap.setMap(heatmap.getMap() ? null : map);\n      }\n\n      function changeGradient() {\n        var gradient = [\n          'rgba(0, 255, 255, 0)',\n          'rgba(0, 255, 255, 1)',\n          'rgba(0, 191, 255, 1)',\n          'rgba(0, 127, 255, 1)',\n          'rgba(0, 63, 255, 1)',\n          'rgba(0, 0, 255, 1)',\n          'rgba(0, 0, 223, 1)',\n          'rgba(0, 0, 191, 1)',\n          'rgba(0, 0, 159, 1)',\n          'rgba(0, 0, 127, 1)',\n          'rgba(63, 0, 91, 1)',\n          'rgba(127, 0, 63, 1)',\n          'rgba(191, 0, 31, 1)',\n          'rgba(255, 0, 0, 1)'\n        ]\n        heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);\n      }\n\n      function changeRadius() {\n        heatmap.set('radius', heatmap.get('radius') ? null : 20);\n      }\n\n      function changeOpacity() {\n        heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);\n      }\n\n      \n    </script>\n    <script async defer src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDaMDbH-BKjboCl3ohjqsayMa-w335GmpA&libraries=visualization&callback=initMap\"></script>\n  </body>\n    \n\n\n"},"focus":true},{"text":"%spark\nprintln(s\"\"\"%html\n<h2> Try your own queries below ....</h2>\n<h3>Please fill out this short <a href=\"https://www.surveymonkey.com/r/7BSB29L\" target=\"_blank\">survey</a> and enter to win a iPad in time for Christmas.</h3>\n<h3>You can always share your thoughts/questions or just encourage us at <a href=\"http://www.snappydata.io/community\" target=\"_blank\"> http://www.snappydata.io/community </a></h3>\n(You can use <a href=\"http://snappydata-slackin.herokuapp.com/\" target=\"_blank\">slack</a>,<a href=\"https://gitter.im/SnappyDataInc/snappydata\" target=\"_blank\">Gitter</a>,<a href=\"http://stackoverflow.com/questions/tagged/snappydata\" target=\"_blank\">stackoverflow </a>, or <a href=\"http://snappydata-slackin.herokuapp.com/\" target=\"_blank\">google groups</a>) <br> Or, just send an email to chomp@snappydata.io\"\"\") ","dateUpdated":"2016-10-27T08:56:29+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":false,"editorMode":"ace/mode/scala","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474826186510_673665807","id":"20160925-175626_1562881893","result":{"code":"SUCCESS","type":"HTML","msg":"<h2> Try your own queries below ....</h2>\n<h3>Please fill out this short <a href=\"https://www.surveymonkey.com/r/7BSB29L\" target=\"_blank\">survey</a> and enter to win a iPad in time for Christmas.</h3>\n<h3>You can always share your thoughts/questions or just encourage us at <a href=\"http://www.snappydata.io/community\" target=\"_blank\"> http://www.snappydata.io/community </a></h3>\n(You can use <a href=\"http://snappydata-slackin.herokuapp.com/\" target=\"_blank\">slack</a>,<a href=\"https://gitter.im/SnappyDataInc/snappydata\" target=\"_blank\">Gitter</a>,<a href=\"http://stackoverflow.com/questions/tagged/snappydata\" target=\"_blank\">stackoverflow </a>, or <a href=\"http://snappydata-slackin.herokuapp.com/\" target=\"_blank\">google groups</a>) <br> Or, just send an email to chomp@snappydata.io\n"},"dateCreated":"2016-09-25T11:26:26+0000","dateStarted":"2016-10-27T08:56:26+0000","dateFinished":"2016-10-27T08:56:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:230"},{"text":"","dateUpdated":"2016-09-28T04:22:29+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1475103139330_1821849706","id":"20160928-225219_1276473643","dateCreated":"2016-09-28T04:22:19+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:231"}],"name":"Demo1 - NYCTaxiAnalytics","id":"2BX13CCNZ","angularObjects":{"2BXCM9S5J:existing_process":[],"2BZAH4GUU:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}